{% extends 'base.html' %}

{% block body %}


<div class="game-container">
    <div class="title">
        LYRICDLE
    </div>

    <div class="message-container"></div>

    <div class="leaderboard-container">
        <img id="leaderboard" src="static/leaderboard.svg">
    </div>
    <div class="lyric-container">
        {% for line in lyrics %}
        <div class=lyric id={{"line" + loop.index0|string}} >
            <text>{{ line }}</text>
        </div>
        {% endfor %}
    </div>

    <datalist id="songdata">
        {% for song in all_songs %}
        <option>{{ song }}</option>
        {% endfor %}
    </datalist>

    <script>
        var songs = $('#songdata option').map(function () {
                return this.value;
            }).get()
        $(function () {
            $("#song-form").autocomplete({
                source: songs
            });
            $("#song-form").autocomplete("enable");
        });
    </script>

    <div class="song-input">
        <label for="song">Type song here:</label>
        <input type="text"
        id = "song-form"
        id="song" name="song"
        size="50"/>

        <div class="buttons">
            <button id="skip">Next Lyric</button>
            <button id="submit">Submit</button>
        </div>
    </div>

    <div class="score-display">
        1/6
    </div>

    <div class="popup-container">
        <div class="popup-items">
            <span id="close">&times;</span>
            <div class="song-container">
                <p>The song was:</p>
                <a id="albumArtLink" target="_blank">
                    <img id="albumArt" width="200"></img>
                    <p id="song-title"></p>
                </a>
            </div>
            <div class="streak-container">
                <p id="curr-streak">Current Streak<br></p>
                <p id="longest-streak">Longest Streak<br></p>
                <p id="days-played">Days Played<br></p>
            </div>

            <div class="share-button">
                <button id="share">
                    Share Result
                </button>
            </div>
        </div>
        

</div>


<script>
    var song = '{{ song|tojson }}'
    var art = '{{ art|tojson }}'
    var link = '{{ link|tojson }}'
    var day = '{{ day }}'
</script>
<script src="{{url_for('static', filename='app.js')}}"></script>



{% endblock %}